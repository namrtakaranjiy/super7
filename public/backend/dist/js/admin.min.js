$(document).ready(function(){function a(e,t){s(e),$("input[name="+e+"]").after('<span class="aj-error" id="aj-'+e+'" style="color:red">'+t+"</span>")}function s(e){$("#aj-"+e).remove()}function n(){$(".aj-error").remove()}function o(e){$(".flash-container").attr("style")&&$(".flash-container").removeAttr("style"),$("#error_message_div").removeClass("d-none"),$("#error_message").html(e),$("html, body").animate({scrollTop:0},800),$("#error_message_div").delay(5e3).fadeOut("slow",function(){$(this).addClass("d-none"),$(this).removeAttr("style")}),$(".alert").on("close.bs.alert",function(e){e.preventDefault(),$(this).stop(),$(this).addClass("d-none")})}$(".birthday-change").on("change",function(){var e=$("#day").val(),t=$("#month").val(),a=$("#year").val();""!=e&&""!=t&&""!=a&&$("#date_of_birth").val(a+"-"+t+"-"+e)}),$(".date-change").on("change",function(){var e=$("#day").val(),t=$("#month").val(),a=$("#year").val(),s=$(this).attr("data-rel");""!=e&&""!=t&&""!=a&&$("#"+s).val(a+"-"+t+"-"+e)}),$(".form-submit-jquery").on("submit",function(e){e.preventDefault();var s,t=new FormData(this),e=$(this).attr("action"),e=(e=e,t=t,$.ajax({url:e,type:"post",async:!1,data:t,processData:!1,contentType:!1,dataType:"json",success:function(e,t,a){n(),s=e},error:function(e,t,a){o("Network problem."+e+" "+t+" "+a),s=[]}}),s);1==e.success?e.message&&(t=e.message,$(".flash-container").attr("style")&&$(".flash-container").removeAttr("style"),$("#success_message_div").removeClass("d-none"),$("#success_message").html(t),$("html, body").animate({scrollTop:0},800),$("#success_message_div").delay(5e3).fadeOut("slow",function(){$(this).addClass("d-none"),$(this).removeAttr("style")}),$(".alert").on("close.bs.alert",function(e){e.preventDefault(),$(this).stop(),$(this).addClass("d-none")})):0==e.success&&(e.message&&o(e.message),$.each(e.errors,function(e,t){a(e,t[0])}))}),$(".validate_field").on("keyup change",function(){var e=$(this).attr("name");""==$(this).val()?a(e,"This field is empty"):s(e)}),$(document).on("click",".delete-warning",function(e){e.preventDefault();e=$(this).attr("href");$("#delete-modal-yes").attr("href",e),$("#delete-warning-modal").modal("show")}),$("#geturl").on("blur keyup",function(){var e=$("#geturl").val();""!=(e=(e=e.toLowerCase()).replace(/[^a-zA-Z0-9]+/g,"-"))&&$("#page_url").val(e)}),$("#page_url").on("blur keyup",function(){""!=$("#page_url").val()&&$(".error-tag").hide()}),$(document).on("submit","#add_page",function(){$("button").attr("disabled","disabled")}),$(document).on("submit","#edit_page",function(){$("button").attr("disabled","disabled")})});